<!DOCTYPE html>
<html lang="id" data-theme="neuro-dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="quantum-enabled" content="true">
    <title>NEXUS Photobooth | 2026 Edition</title>
    
    <!-- Quantum Design System -->
    <link rel="stylesheet" href="https://cdn.quantumcss.com/2026/neuro-glass.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css6?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;500&display=swap">
    
    <!-- Holographic JS -->
    <script src="https://webgl.holojs.dev/v3/advanced.js" defer></script>
    
    <!-- AI Photobooth Core -->
    <script type="module" src="https://unpkg.com/@ai-photobooth/core@2026"></script>
    
    <style>
        :root {
            --quantum-primary: #00f3ff;
            --quantum-secondary: #ff00ff;
            --neuro-bg: #0a0a14;
            --glass-blur: 20px;
            --hologram-intensity: 0.8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Exo 2', sans-serif;
            background: var(--neuro-bg);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Holographic Background Effect */
        .hologram-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(0, 243, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 0, 255, 0.15) 0%, transparent 50%);
            z-index: -1;
            animation: quantum-pulse 8s infinite alternate;
        }
        
        /* Neuro-Glass Navigation */
        .neuro-nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(var(--glass-blur));
            border-bottom: 1px solid rgba(0, 243, 255, 0.3);
            z-index: 1000;
        }
        
        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.2rem;
            font-weight: 900;
            background: linear-gradient(90deg, var(--quantum-primary), var(--quantum-secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(0, 243, 255, 0.5);
        }
        
        .nav-links a {
            color: #fff;
            text-decoration: none;
            margin-left: 2.5rem;
            font-size: 1.1rem;
            position: relative;
            padding: 0.5rem 0;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            color: var(--quantum-primary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--quantum-primary);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        /* Main Container */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            min-height: 100vh;
            padding: 8rem 3rem 3rem;
            gap: 3rem;
            max-width: 1800px;
            margin: 0 auto;
        }
        
        /* Control Panel (Left) */
        .control-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(var(--glass-blur));
            border-radius: 2rem;
            padding: 2.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        .panel-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: var(--quantum-primary);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .panel-title::before {
            content: '‚ö°';
            font-size: 2rem;
        }
        
        /* Camera Preview Area (Right) */
        .camera-area {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 2rem;
            padding: 2rem;
            position: relative;
            border: 1px solid rgba(0, 243, 255, 0.2);
            overflow: hidden;
        }
        
        #camera-preview {
            width: 100%;
            height: 600px;
            background: #000;
            border-radius: 1.5rem;
            object-fit: cover;
            display: block;
            margin-bottom: 2rem;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Quantum Buttons */
        .quantum-btn {
            background: linear-gradient(135deg, 
                rgba(0, 243, 255, 0.2), 
                rgba(255, 0, 255, 0.2));
            border: 1px solid rgba(0, 243, 255, 0.4);
            color: white;
            padding: 1.2rem 2.5rem;
            border-radius: 1rem;
            font-family: 'Exo 2', sans-serif;
            font-size: 1.2rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            width: 100%;
            margin-top: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        .quantum-btn:hover {
            background: linear-gradient(135deg, 
                rgba(0, 243, 255, 0.4), 
                rgba(255, 0, 255, 0.4));
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 243, 255, 0.3);
        }
        
        .quantum-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            transition: left 0.7s ease;
        }
        
        .quantum-btn:hover::before {
            left: 100%;
        }
        
        /* AI Filter Selector */
        .filter-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.2rem;
            margin: 2rem 0;
        }
        
        .filter-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .filter-card:hover {
            background: rgba(0, 243, 255, 0.1);
            border-color: var(--quantum-primary);
            transform: translateY(-5px);
        }
        
        .filter-card.active {
            background: rgba(0, 243, 255, 0.2);
            border-color: var(--quantum-primary);
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
        }
        
        .filter-icon {
            font-size: 2rem;
            margin-bottom: 0.8rem;
            display: block;
        }
        
        /* Photo Gallery Grid */
        .gallery-container {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .gallery-item {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 0.8rem;
            cursor: pointer;
            transition: transform 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            border-color: var(--quantum-primary);
        }
        
        /* Neuro Animation */
        @keyframes quantum-pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
                padding: 7rem 2rem 2rem;
            }
            
            .camera-area {
                height: 500px;
            }
            
            #camera-preview {
                height: 400px;
            }
        }
        
        @media (max-width: 768px) {
            .neuro-nav {
                padding: 1rem 1.5rem;
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                display: flex;
                gap: 1.5rem;
            }
            
            .nav-links a {
                margin-left: 0;
            }
            
            .logo {
                font-size: 1.8rem;
            }
            
            .filter-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Quantum Loader */
        .quantum-loader {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
        }
        
        .loader-ring {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 5px solid transparent;
            border-top: 5px solid var(--quantum-primary);
            border-bottom: 5px solid var(--quantum-secondary);
            animation: spin 1.5s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Holographic Background -->
    <div class="hologram-bg"></div>
    
    <!-- Quantum Loader -->
    <div class="quantum-loader" id="loader">
        <div class="loader-ring"></div>
    </div>
    
    <!-- Neuro-Glass Navigation -->
    <nav class="neuro-nav">
        <div class="logo">NEXUS.PHOTOBOOTH</div>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#gallery">Gallery</a>
            <a href="#filters">AI Filters</a>
            <a href="#metaverse">Metaverse</a>
            <a href="#blockchain">Blockchain Proof</a>
        </div>
    </nav>
    
    <!-- Main Container -->
    <div class="main-container">
        <!-- Control Panel -->
        <div class="control-panel">
            <h2 class="panel-title">QUANTUM CONTROL</h2>
            
            <!-- Camera Controls -->
            <div class="control-section">
                <h3 style="color: #fff; margin-bottom: 1.5rem; font-size: 1.3rem;">üì∏ Camera Setup</h3>
                <select id="camera-select" style="width: 100%; padding: 1rem; border-radius: 0.8rem; background: rgba(255,255,255,0.08); color: white; border: 1px solid rgba(0,243,255,0.3); margin-bottom: 1.5rem;">
                    <option value="">Select Camera...</option>
                </select>
                
                <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                    <button class="quantum-btn" id="start-camera" style="flex: 1;">
                        <span>üé•</span> Start Camera
                    </button>
                    <button class="quantum-btn" id="stop-camera" style="flex: 1; background: rgba(255,50,50,0.2);">
                        <span>‚èπÔ∏è</span> Stop
                    </button>
                </div>
            </div>
            
            <!-- AI Filters -->
            <div class="control-section">
                <h3 style="color: #fff; margin: 2rem 0 1.5rem; font-size: 1.3rem;">ü§ñ AI Neural Filters</h3>
                <div class="filter-grid">
                    <div class="filter-card active" data-filter="hologram">
                        <span class="filter-icon">üëÅÔ∏è</span>
                        Hologram Vision
                    </div>
                    <div class="filter-card" data-filter="cyberpunk">
                        <span class="filter-icon">üîÆ</span>
                        Cyberpunk 2026
                    </div>
                    <div class="filter-card" data-filter="neuro">
                        <span class="filter-icon">üß†</span>
                        Neuro-Glow
                    </div>
                    <div class="filter-card" data-filter="quantum">
                        <span class="filter-icon">‚öõÔ∏è</span>
                        Quantum Shift
                    </div>
                    <div class="filter-card" data-filter="matrix">
                        <span class="filter-icon">üì°</span>
                        Matrix Code
                    </div>
                    <div class="filter-card" data-filter="biometric">
                        <span class="filter-icon">üòä</span>
                        Mood Match
                    </div>
                </div>
            </div>
            
            <!-- Capture & Actions -->
            <button class="quantum-btn" id="capture-btn">
                <span>üì∏</span> CAPTURE QUANTUM SHOT
            </button>
            
            <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                <button class="quantum-btn" id="download-btn" style="flex: 1; padding: 1rem;">
                    <span>‚¨áÔ∏è</span> Download
                </button>
                <button class="quantum-btn" id="share-btn" style="flex: 1; padding: 1rem;">
                    <span>üåê</span> Share to Metaverse
                </button>
                <button class="quantum-btn" id="nft-btn" style="flex: 1; padding: 1rem; background: rgba(130,71,229,0.2);">
                    <span>ü™ô</span> Mint as NFT
                </button>
            </div>
        </div>
        
        <!-- Camera Preview Area -->
        <div class="camera-area">
            <h2 class="panel-title">LIVE QUANTUM FEED</h2>
            <video id="camera-preview" autoplay playsinline></video>
            <canvas id="photo-canvas" style="display: none;"></canvas>
            
            <!-- AI Assistant Chat -->
            <div style="background: rgba(255,255,255,0.05); padding: 1.5rem; border-radius: 1rem; margin-top: 2rem;">
                <h3 style="color: var(--quantum-primary); margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    <span>ü§ñ</span> AI Photo Assistant
                </h3>
                <p style="color: #ccc; line-height: 1.6;">
                    <span id="ai-suggestion">"Coba pose dengan tangan di pinggang untuk hasil terbaik. Pencahayaan optimal terdeteksi!"</span>
                </p>
                <button id="ai-help-btn" style="margin-top: 1rem; background: transparent; border: 1px solid var(--quantum-primary); color: var(--quantum-primary); padding: 0.5rem 1.5rem; border-radius: 0.5rem; cursor: pointer;">
                    Minta Saran AI
                </button>
            </div>
            
            <!-- Gallery Preview -->
            <div class="gallery-container">
                <h3 style="color: #fff; margin-bottom: 1rem;">QUANTUM GALLERY</h3>
                <div class="gallery-grid" id="photo-gallery">
                    <!-- Photos will appear here dynamically -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script>
        // Elements
        const video = document.getElementById('camera-preview');
        const canvas = document.getElementById('photo-canvas');
        const startBtn = document.getElementById('start-camera');
        const stopBtn = document.getElementById('stop-camera');
        const captureBtn = document.getElementById('capture-btn');
        const cameraSelect = document.getElementById('camera-select');
        const gallery = document.getElementById('photo-gallery');
        const filterCards = document.querySelectorAll('.filter-card');
        const loader = document.getElementById('loader');
        
        let currentStream = null;
        let currentFilter = 'hologram';
        
        // Available filters with 2026 effects
        const filters = {
            hologram: { effect: 'hue-rotate(90deg) saturate(2) contrast(1.2)', label: 'Hologram' },
            cyberpunk: { effect: 'contrast(1.5) brightness(1.2) hue-rotate(270deg)', label: 'Cyberpunk' },
            neuro: { effect: 'blur(1px) brightness(1.3) saturate(1.8)', label: 'Neuro-Glow' },
            quantum: { effect: 'sepia(0.5) hue-rotate(180deg) saturate(2)', label: 'Quantum' },
            matrix: { effect: 'grayscale(1) contrast(2) brightness(0.8)', label: 'Matrix' },
            biometric: { effect: 'contrast(1.2) saturate(1.5) hue-rotate(45deg)', label: 'Mood' }
        };
        
        // Start Camera
        startBtn.addEventListener('click', async () => {
            try {
                loader.style.display = 'block';
                
                const constraints = {
                    video: {
                        width: { ideal: 1920 },
                        height: { ideal: 1080 },
                        facingMode: 'user'
                    },
                    audio: false
                };
                
                currentStream = await navigator.mediaDevices.getUserMedia(constraints);
                video.srcObject = currentStream;
                
                // Populate camera select
                const devices = await navigator.mediaDevices.enumerateDevices();
                const videoDevices = devices.filter(device => device.kind === 'videoinput');
                cameraSelect.innerHTML = '<option value="">Select Camera...</option>';
                videoDevices.forEach(device => {
                    const option = document.createElement('option');
                    option.value = device.deviceId;
                    option.text = device.label || `Camera ${cameraSelect.length}`;
                    cameraSelect.appendChild(option);
                });
                
                // Apply initial filter
                applyFilter(currentFilter);
                
                setTimeout(() => {
                    loader.style.display = 'none';
                    startBtn.innerHTML = '<span>üîÑ</span> Camera Active';
                    startBtn.style.background = 'rgba(0, 255, 100, 0.2)';
                }, 1000);
                
            } catch (err) {
                console.error("Camera error:", err);
                alert("Cannot access camera. Please check permissions.");
                loader.style.display = 'none';
            }
        });
        
        // Stop Camera
        stopBtn.addEventListener('click', () => {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
                video.srcObject = null;
                startBtn.innerHTML = '<span>üé•</span> Start Camera';
                startBtn.style.background = '';
            }
        });
        
        // Switch Camera
        cameraSelect.addEventListener('change', async () => {
            if (currentStream) {
                currentStream.getTracks().forEach(track => track.stop());
            }
            
            const constraints = {
                video: {
                    deviceId: { exact: cameraSelect.value },
                    width: { ideal: 1920 },
                    height: { ideal: 1080 }
                }
            };
            
            try {
                currentStream = await navigator.mediaDevices.getUserMedia(constraints);
                video.srcObject = currentStream;
            } catch (err) {
                console.error("Error switching camera:", err);
            }
        });
        
        // Filter Selection
        filterCards.forEach(card => {
            card.addEventListener('click', () => {
                filterCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');
                currentFilter = card.dataset.filter;
                applyFilter(currentFilter);
                
                // Update AI suggestion based on filter
                const suggestions = {
                    hologram: "Tatap langsung ke kamera untuk efek hologram maksimal!",
                    cyberpunk: "Angkat kepala sedikit untuk highlights neon optimal.",
                    neuro: "Senyum akan menciptakan glow neural yang spektakuler!",
                    quantum: "Gerakkan kepala perlahan untuk efek quantum trail.",
                    matrix: "Ekspresi serius akan memberikan vibe matrix yang authentic.",
                    biometric: "AI sedang menganalisis mood Anda... tersenyumlah!"
                };
                document.getElementById('ai-suggestion').textContent = suggestions[currentFilter] || "Pose dengan percaya diri!";
            });
        });
        
        // Apply filter to video
        function applyFilter(filterName) {
            video.style.filter = filters[filterName]?.effect || 'none';
        }
        
        // Capture Photo
        captureBtn.addEventListener('click', () => {
            if (!currentStream) {
                alert("Please start camera first!");
                return;
            }
            
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            const context = canvas.getContext('2d');
            
            // Apply current filter to canvas
            context.filter = filters[currentFilter]?.effect || 'none';
            context.drawImage(video, 0, 0, canvas.width, canvas.height);
            
            // Create photo data
            const photoData = canvas.toDataURL('image/png');
            
            // Add to gallery
            const galleryItem = document.createElement('img');
            galleryItem.className = 'gallery-item';
            galleryItem.src = photoData;
            galleryItem.alt = `Photo with ${filters[currentFilter]?.label} filter`;
            
            // Add timestamp
            const now = new Date();
            galleryItem.title = `Captured: ${now.toLocaleString()} | Filter: ${filters[currentFilter]?.label}`;
            
            // Add click to view larger
            galleryItem.addEventListener('click', () => {
                window.open(photoData, '_blank');
            });
            
            gallery.prepend(galleryItem);
            
            // Limit gallery to 12 photos
            if (gallery.children.length > 12) {
                gallery.removeChild(gallery.lastChild);
            }
            
            // Animation feedback
            captureBtn.innerHTML = '<span>‚ú®</span> CAPTURED!';
            captureBtn.style.background = 'linear-gradient(135deg, rgba(0,255,100,0.3), rgba(0,243,255,0.3))';
            
            setTimeout(() => {
                captureBtn.innerHTML = '<span>üì∏</span> CAPTURE QUANTUM SHOT';
                captureBtn.style.background = '';
            }, 1500);
            
            // AI comment
            const comments = [
                "Keren! Pose mu sangat cocok dengan filter ini!",
                "Wow, ekspresi yang powerful!",
                "Cahaya sempurna untuk hasil optimal!",
                "AI rate: 9.5/10! Hampir sempurna!",
                "Kamu natural di depan kamera!",
                "Filter ini benar-benar cocok dengan gaya mu!"
            ];
            document.getElementById('ai-suggestion').textContent = 
                comments[Math.floor(Math.random() * comments.length)];
        });
        
        // Download Photo
        document.getElementById('download-btn').addEventListener('click', () => {
            if (!canvas.width) {
                alert("No photo captured yet!");
                return;
            }
            
            const link = document.createElement('a');
            link.download = `quantum-photo-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        });
        
        // Share to Metaverse (Simulation)
        document.getElementById('share-btn').addEventListener('click', () => {
            loader.style.display = 'block';
            setTimeout(() => {
                loader.style.display = 'none';
                alert("‚úÖ Photo shared to Metaverse! Available in your VR gallery.");
            }, 2000);
        });
        
        // Mint as NFT (Simulation)
        document.getElementById('nft-btn').addEventListener('click', () => {
            const confirmed = confirm("Mint this photo as NFT on Quantum Blockchain? (Gas fee: ~0.002 ETH)");
            if (confirmed) {
                loader.style.display = 'block';
                setTimeout(() => {
                    loader.style.display = 'none';
                    alert("üéâ NFT minted successfully! Token ID: #QPB2026-" + Math.floor(Math.random() * 10000));
                }, 3000);
            }
        });
        
        // AI Help Button
        document.getElementById('ai-help-btn').addEventListener('click', () => {
            const tips = [
                "Coba berdiri 1.5 meter dari kamera untuk framing terbaik.",
                "Pencahayaan dari jendela akan memberikan hasil terbaik.",
                "Pakai baju dengan warna solid untuk efek filter maksimal.",
                "Tatap lensa kamera, bukan layar, untuk kontak mata optimal.",
                "Ambient light mode aktif - pertahankan pose 3 detik.",
                "AI merekomendasikan filter 'Neuro-Glow' untuk skin tone Anda."
            ];
            document.getElementById('ai-suggestion').textContent = 
                "ü§ñ AI Tip: " + tips[Math.floor(Math.random() * tips.length)];
        });
        
        // Initialize with some demo gallery images
        window.addEventListener('load', () => {
            const demoImages = [
                'https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop',
                'https://images.unsplash.com/photo-1494790108755-2616b612b786?w-400&h=400&fit=crop'
            ];
            
            demoImages.forEach(img => {
                const galleryItem = document.createElement('img');
                galleryItem.className = 'gallery-item';
                galleryItem.src = img;
                galleryItem.alt = "Demo photo";
                gallery.appendChild(galleryItem);
            });
        });
        
        // Quantum UI Effect - Interactive background
        document.addEventListener('mousemove', (e) => {
            const hologramBg = document.querySelector('.hologram-bg');
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            
            hologramBg.style.transform = `translate(${x * 20}px, ${y * 20}px)`;
        });
    </script>
</body>
</html>
